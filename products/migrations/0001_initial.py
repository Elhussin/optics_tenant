# Generated by Django 5.2.1 on 2025-06-11 10:19

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('prescriptions', '0001_initial'),
        ('users', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Attributes',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('name', models.CharField(max_length=100, unique=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Brand',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('name', models.TextField(max_length=100, unique=True)),
                ('country', models.CharField(blank=True, max_length=50)),
                ('website', models.URLField(blank=True)),
                ('description', models.TextField(blank=True)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='brands/')),
            ],
            options={
                'verbose_name': 'Brand',
                'verbose_name_plural': 'Brands',
            },
        ),
        migrations.CreateModel(
            name='Manufacturer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('country', models.CharField(blank=True, max_length=50)),
                ('website', models.URLField(blank=True)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(blank=True, max_length=20)),
            ],
            options={
                'verbose_name': 'Manufacturer',
                'verbose_name_plural': 'Manufacturers',
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('name', models.TextField(max_length=200, unique=True)),
                ('contact_person', models.CharField(blank=True, max_length=100)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(blank=True, max_length=20)),
                ('address', models.TextField(blank=True)),
                ('country', models.CharField(blank=True, max_length=50)),
                ('website', models.URLField(blank=True)),
                ('payment_terms', models.CharField(blank=True, max_length=100)),
            ],
            options={
                'verbose_name': 'Supplier',
                'verbose_name_plural': 'Suppliers',
            },
        ),
        migrations.CreateModel(
            name='AttributeValue',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('value', models.CharField(max_length=100, unique=True)),
                ('attribute', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='values', to='products.attributes')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='products.category')),
            ],
            options={
                'verbose_name_plural': 'Categories',
            },
        ),
        migrations.CreateModel(
            name='InventoryDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('document_type', models.CharField(choices=[('purchase', 'Purchase Receipt'), ('sale', 'Sale Issue'), ('adjustment', 'Adjustment'), ('transfer', 'Transfer'), ('return', 'Return'), ('damage', 'Damage')], max_length=20)),
                ('reference_number', models.CharField(blank=True, max_length=100)),
                ('notes', models.TextField(blank=True)),
                ('is_processed', models.BooleanField(default=False)),
                ('processed_at', models.DateTimeField(blank=True, null=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.branch')),
                ('processed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='LensCoating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField(blank=True)),
            ],
            options={
                'verbose_name_plural': 'Lens Coatings',
                'indexes': [models.Index(fields=['name'], name='products_le_name_8da045_idx')],
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('order_type', models.CharField(choices=[('cash', 'Cash'), ('credit', 'Credit'), ('insurance', 'Insurance')], default='cash', max_length=20)),
                ('order_number', models.CharField(blank=True, max_length=20, unique=True)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('pending', 'Pending'), ('confirmed', 'Confirmed'), ('ready', 'Ready'), ('delivered', 'Delivered'), ('cancelled', 'Cancelled')], default='draft', max_length=20)),
                ('payment_status', models.CharField(choices=[('pending', 'Pending'), ('partial', 'Partial'), ('paid', 'Paid'), ('refunded', 'Refunded'), ('disputed', 'Disputed')], default='pending', max_length=20)),
                ('subtotal', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('tax_rate', models.DecimalField(decimal_places=4, default=Decimal('0.15'), max_digits=5)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('paid_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('notes', models.TextField(blank=True)),
                ('internal_notes', models.TextField(blank=True)),
                ('confirmed_at', models.DateTimeField(blank=True, null=True)),
                ('delivered_at', models.DateTimeField(blank=True, null=True)),
                ('expected_delivery', models.DateTimeField(blank=True, null=True)),
                ('branch', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='users.branch')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='orders', to='users.customer')),
                ('sales_person', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='users.branchusers')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Invoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('invoice_number', models.CharField(blank=True, max_length=50, unique=True)),
                ('date_created', models.DateTimeField(auto_now_add=True)),
                ('due_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('sent', 'Sent'), ('paid', 'Paid'), ('cancelled', 'Cancelled'), ('overdue', 'Overdue')], default='draft', max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('subtotal', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('tax_rate', models.DecimalField(decimal_places=4, default=Decimal('0.15'), max_digits=5)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('paid_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.branch')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='invoices', to='users.customer')),
                ('order', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='invoices', to='products.order')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('model', models.CharField(max_length=50)),
                ('type', models.CharField(choices=[('CL', 'Contact Lenses'), ('SL', 'Spectacle Lenses'), ('SG', 'Sunglasses'), ('EW', 'Eyewear'), ('AX', 'Accessories'), ('OT', 'Other'), ('DV', 'Devices')], max_length=50)),
                ('name', models.CharField(blank=True, max_length=200, null=True)),
                ('description', models.TextField(blank=True)),
                ('main_image', models.ImageField(blank=True, null=True, upload_to='products/')),
                ('brand', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.brand')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.category')),
                ('manufacturer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.manufacturer')),
                ('supplier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.supplier')),
            ],
        ),
        migrations.CreateModel(
            name='ProductVariant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('sku', models.CharField(editable=False, help_text='SKU (Stock Keeping Unit)', max_length=50, unique=True)),
                ('unique_hash', models.CharField(editable=False, help_text='Unique Hash', max_length=64, unique=True)),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('spherical', models.CharField(blank=True, choices=[('-30.00', '-30.00'), ('-29.75', '-29.75'), ('-29.50', '-29.50'), ('-29.25', '-29.25'), ('-29.00', '-29.00'), ('-28.75', '-28.75'), ('-28.50', '-28.50'), ('-28.25', '-28.25'), ('-28.00', '-28.00'), ('-27.75', '-27.75'), ('-27.50', '-27.50'), ('-27.25', '-27.25'), ('-27.00', '-27.00'), ('-26.75', '-26.75'), ('-26.50', '-26.50'), ('-26.25', '-26.25'), ('-26.00', '-26.00'), ('-25.75', '-25.75'), ('-25.50', '-25.50'), ('-25.25', '-25.25'), ('-25.00', '-25.00'), ('-24.75', '-24.75'), ('-24.50', '-24.50'), ('-24.25', '-24.25'), ('-24.00', '-24.00'), ('-23.75', '-23.75'), ('-23.50', '-23.50'), ('-23.25', '-23.25'), ('-23.00', '-23.00'), ('-22.75', '-22.75'), ('-22.50', '-22.50'), ('-22.25', '-22.25'), ('-22.00', '-22.00'), ('-21.75', '-21.75'), ('-21.50', '-21.50'), ('-21.25', '-21.25'), ('-21.00', '-21.00'), ('-20.75', '-20.75'), ('-20.50', '-20.50'), ('-20.25', '-20.25'), ('-20.00', '-20.00'), ('-19.75', '-19.75'), ('-19.50', '-19.50'), ('-19.25', '-19.25'), ('-19.00', '-19.00'), ('-18.75', '-18.75'), ('-18.50', '-18.50'), ('-18.25', '-18.25'), ('-18.00', '-18.00'), ('-17.75', '-17.75'), ('-17.50', '-17.50'), ('-17.25', '-17.25'), ('-17.00', '-17.00'), ('-16.75', '-16.75'), ('-16.50', '-16.50'), ('-16.25', '-16.25'), ('-16.00', '-16.00'), ('-15.75', '-15.75'), ('-15.50', '-15.50'), ('-15.25', '-15.25'), ('-15.00', '-15.00'), ('-14.75', '-14.75'), ('-14.50', '-14.50'), ('-14.25', '-14.25'), ('-14.00', '-14.00'), ('-13.75', '-13.75'), ('-13.50', '-13.50'), ('-13.25', '-13.25'), ('-13.00', '-13.00'), ('-12.75', '-12.75'), ('-12.50', '-12.50'), ('-12.25', '-12.25'), ('-12.00', '-12.00'), ('-11.75', '-11.75'), ('-11.50', '-11.50'), ('-11.25', '-11.25'), ('-11.00', '-11.00'), ('-10.75', '-10.75'), ('-10.50', '-10.50'), ('-10.25', '-10.25'), ('-10.00', '-10.00'), ('-09.75', '-09.75'), ('-09.50', '-09.50'), ('-09.25', '-09.25'), ('-09.00', '-09.00'), ('-08.75', '-08.75'), ('-08.50', '-08.50'), ('-08.25', '-08.25'), ('-08.00', '-08.00'), ('-07.75', '-07.75'), ('-07.50', '-07.50'), ('-07.25', '-07.25'), ('-07.00', '-07.00'), ('-06.75', '-06.75'), ('-06.50', '-06.50'), ('-06.25', '-06.25'), ('-06.00', '-06.00'), ('-05.75', '-05.75'), ('-05.50', '-05.50'), ('-05.25', '-05.25'), ('-05.00', '-05.00'), ('-04.75', '-04.75'), ('-04.50', '-04.50'), ('-04.25', '-04.25'), ('-04.00', '-04.00'), ('-03.75', '-03.75'), ('-03.50', '-03.50'), ('-03.25', '-03.25'), ('-03.00', '-03.00'), ('-02.75', '-02.75'), ('-02.50', '-02.50'), ('-02.25', '-02.25'), ('-02.00', '-02.00'), ('-01.75', '-01.75'), ('-01.50', '-01.50'), ('-01.25', '-01.25'), ('-01.00', '-01.00'), ('-00.75', '-00.75'), ('-00.50', '-00.50'), ('-00.25', '-00.25'), ('-00.00', '-00.00'), ('+00.25', '+00.25'), ('+00.50', '+00.50'), ('+00.75', '+00.75'), ('+01.00', '+01.00'), ('+01.25', '+01.25'), ('+01.50', '+01.50'), ('+01.75', '+01.75'), ('+02.00', '+02.00'), ('+02.25', '+02.25'), ('+02.50', '+02.50'), ('+02.75', '+02.75'), ('+03.00', '+03.00'), ('+03.25', '+03.25'), ('+03.50', '+03.50'), ('+03.75', '+03.75'), ('+04.00', '+04.00'), ('+04.25', '+04.25'), ('+04.50', '+04.50'), ('+04.75', '+04.75'), ('+05.00', '+05.00'), ('+05.25', '+05.25'), ('+05.50', '+05.50'), ('+05.75', '+05.75'), ('+06.00', '+06.00'), ('+06.25', '+06.25'), ('+06.50', '+06.50'), ('+06.75', '+06.75'), ('+07.00', '+07.00'), ('+07.25', '+07.25'), ('+07.50', '+07.50'), ('+07.75', '+07.75'), ('+08.00', '+08.00'), ('+08.25', '+08.25'), ('+08.50', '+08.50'), ('+08.75', '+08.75'), ('+09.00', '+09.00'), ('+09.25', '+09.25'), ('+09.50', '+09.50'), ('+09.75', '+09.75'), ('+10.00', '+10.00'), ('+10.25', '+10.25'), ('+10.50', '+10.50'), ('+10.75', '+10.75'), ('+11.00', '+11.00'), ('+11.25', '+11.25'), ('+11.50', '+11.50'), ('+11.75', '+11.75'), ('+12.00', '+12.00'), ('+12.25', '+12.25'), ('+12.50', '+12.50'), ('+12.75', '+12.75'), ('+13.00', '+13.00'), ('+13.25', '+13.25'), ('+13.50', '+13.50'), ('+13.75', '+13.75'), ('+14.00', '+14.00'), ('+14.25', '+14.25'), ('+14.50', '+14.50'), ('+14.75', '+14.75'), ('+15.00', '+15.00'), ('+15.25', '+15.25'), ('+15.50', '+15.50'), ('+15.75', '+15.75'), ('+16.00', '+16.00'), ('+16.25', '+16.25'), ('+16.50', '+16.50'), ('+16.75', '+16.75'), ('+17.00', '+17.00'), ('+17.25', '+17.25'), ('+17.50', '+17.50'), ('+17.75', '+17.75'), ('+18.00', '+18.00'), ('+18.25', '+18.25'), ('+18.50', '+18.50'), ('+18.75', '+18.75'), ('+19.00', '+19.00'), ('+19.25', '+19.25'), ('+19.50', '+19.50'), ('+19.75', '+19.75'), ('+20.00', '+20.00'), ('+20.25', '+20.25'), ('+20.50', '+20.50'), ('+20.75', '+20.75'), ('+21.00', '+21.00'), ('+21.25', '+21.25'), ('+21.50', '+21.50'), ('+21.75', '+21.75'), ('+22.00', '+22.00'), ('+22.25', '+22.25'), ('+22.50', '+22.50'), ('+22.75', '+22.75'), ('+23.00', '+23.00'), ('+23.25', '+23.25'), ('+23.50', '+23.50'), ('+23.75', '+23.75'), ('+24.00', '+24.00'), ('+24.25', '+24.25'), ('+24.50', '+24.50'), ('+24.75', '+24.75'), ('+25.00', '+25.00'), ('+25.25', '+25.25'), ('+25.50', '+25.50'), ('+25.75', '+25.75'), ('+26.00', '+26.00'), ('+26.25', '+26.25'), ('+26.50', '+26.50'), ('+26.75', '+26.75'), ('+27.00', '+27.00'), ('+27.25', '+27.25'), ('+27.50', '+27.50'), ('+27.75', '+27.75'), ('+28.00', '+28.00'), ('+28.25', '+28.25'), ('+28.50', '+28.50'), ('+28.75', '+28.75'), ('+29.00', '+29.00'), ('+29.25', '+29.25'), ('+29.50', '+29.50'), ('+29.75', '+29.75'), ('+30.00', '+30.00')], max_length=20, null=True)),
                ('cylinder', models.CharField(blank=True, choices=[('-15.00', '-15.00'), ('-14.75', '-14.75'), ('-14.50', '-14.50'), ('-14.25', '-14.25'), ('-14.00', '-14.00'), ('-13.75', '-13.75'), ('-13.50', '-13.50'), ('-13.25', '-13.25'), ('-13.00', '-13.00'), ('-12.75', '-12.75'), ('-12.50', '-12.50'), ('-12.25', '-12.25'), ('-12.00', '-12.00'), ('-11.75', '-11.75'), ('-11.50', '-11.50'), ('-11.25', '-11.25'), ('-11.00', '-11.00'), ('-10.75', '-10.75'), ('-10.50', '-10.50'), ('-10.25', '-10.25'), ('-10.00', '-10.00'), ('-09.75', '-09.75'), ('-09.50', '-09.50'), ('-09.25', '-09.25'), ('-09.00', '-09.00'), ('-08.75', '-08.75'), ('-08.50', '-08.50'), ('-08.25', '-08.25'), ('-08.00', '-08.00'), ('-07.75', '-07.75'), ('-07.50', '-07.50'), ('-07.25', '-07.25'), ('-07.00', '-07.00'), ('-06.75', '-06.75'), ('-06.50', '-06.50'), ('-06.25', '-06.25'), ('-06.00', '-06.00'), ('-05.75', '-05.75'), ('-05.50', '-05.50'), ('-05.25', '-05.25'), ('-05.00', '-05.00'), ('-04.75', '-04.75'), ('-04.50', '-04.50'), ('-04.25', '-04.25'), ('-04.00', '-04.00'), ('-03.75', '-03.75'), ('-03.50', '-03.50'), ('-03.25', '-03.25'), ('-03.00', '-03.00'), ('-02.75', '-02.75'), ('-02.50', '-02.50'), ('-02.25', '-02.25'), ('-02.00', '-02.00'), ('-01.75', '-01.75'), ('-01.50', '-01.50'), ('-01.25', '-01.25'), ('-01.00', '-01.00'), ('-00.75', '-00.75'), ('-00.50', '-00.50'), ('-00.25', '-00.25'), ('-00.00', '-00.00')], max_length=20, null=True)),
                ('axis', models.IntegerField(blank=True, default=0, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(180)])),
                ('addition', models.CharField(blank=True, choices=[('+00.25', '+00.25'), ('+00.50', '+00.50'), ('+00.75', '+00.75'), ('+01.00', '+01.00'), ('+01.25', '+01.25'), ('+01.50', '+01.50'), ('+01.75', '+01.75'), ('+02.00', '+02.00'), ('+02.25', '+02.25'), ('+02.50', '+02.50'), ('+02.75', '+02.75'), ('+03.00', '+03.00'), ('+03.25', '+03.25'), ('+03.50', '+03.50'), ('+03.75', '+03.75'), ('+04.00', '+04.00'), ('+04.25', '+04.25'), ('+04.50', '+04.50'), ('+04.75', '+04.75'), ('+05.00', '+05.00'), ('+05.25', '+05.25'), ('+05.50', '+05.50'), ('+05.75', '+05.75'), ('+06.00', '+06.00')], max_length=20, null=True)),
                ('cost_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('selling_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('discount_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('bridge_width', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Width'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_bridge_width', to='products.attributevalue')),
                ('dimensions', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Dimensions'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_dimensions', to='products.attributevalue')),
                ('frame_color', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Color'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_color', to='products.attributevalue')),
                ('frame_material', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Material'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_frame_material', to='products.attributevalue')),
                ('frame_shape', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Shape'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_frame_shape', to='products.attributevalue')),
                ('lens_base_curve', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Base Curve'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_lens_base_curve', to='products.attributevalue')),
                ('lens_coatings', models.ManyToManyField(blank=True, related_name='%(class)s_lens_coatings', to='products.lenscoating')),
                ('lens_color', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Color'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_lens_color', to='products.attributevalue')),
                ('lens_diameter', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Diameter'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_lens_diameter', to='products.attributevalue')),
                ('lens_material', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Material'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_lens_material', to='products.attributevalue')),
                ('lens_type', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Lens Type'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_lens_type', to='products.attributevalue')),
                ('lens_water_content', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Water Content'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_lens_water_content', to='products.attributevalue')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='variants', to='products.product')),
                ('replacement_schedule', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Replacement Schedule'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_replacement_schedule', to='products.attributevalue')),
                ('temple_length', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Length'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_temple_length', to='products.attributevalue')),
                ('warranty', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Warranty'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_warranty', to='products.attributevalue')),
                ('weight', models.ForeignKey(blank=True, limit_choices_to={'attribute__name': 'Weight'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_weight', to='products.attributevalue')),
            ],
            options={
                'verbose_name': 'Product Variant',
                'verbose_name_plural': 'Product Variants',
            },
        ),
        migrations.CreateModel(
            name='ProductImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(unique=True, upload_to='products/')),
                ('alt_text', models.CharField(blank=True, max_length=200)),
                ('order', models.PositiveIntegerField(default=0)),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='products.productvariant')),
            ],
            options={
                'ordering': ['order', 'id'],
            },
        ),
        migrations.CreateModel(
            name='OrderItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(default=1)),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('notes', models.TextField(blank=True)),
                ('internal_notes', models.TextField(blank=True)),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='products.order')),
                ('prescription', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='prescriptions.prescriptionrecord')),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.productvariant')),
            ],
        ),
        migrations.CreateModel(
            name='InvoiceItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(default=1)),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=12)),
                ('total_price', models.DecimalField(decimal_places=2, editable=False, max_digits=12)),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='products.invoice')),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.productvariant')),
            ],
        ),
        migrations.CreateModel(
            name='InventoryLineItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.IntegerField()),
                ('unit_cost', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('document', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='line_items', to='products.inventorydocument')),
                ('from_branch', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='outgoing_items', to='users.branch')),
                ('to_branch', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='incoming_items', to='users.branch')),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.productvariant')),
            ],
        ),
        migrations.CreateModel(
            name='ProductVariantMarketing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('meta_title', models.CharField(blank=True, max_length=200)),
                ('meta_description', models.CharField(blank=True, max_length=300)),
                ('meta_keywords', models.CharField(blank=True, max_length=200)),
                ('slug', models.SlugField(unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('seo_image', models.ImageField(blank=True, null=True, upload_to='products/marketing/')),
                ('seo_image_alt', models.CharField(blank=True, max_length=200)),
                ('gender', models.CharField(choices=[('unisex', 'Unisex'), ('men', 'Men'), ('women', 'Women'), ('kids', 'Kids')], default='unisex', max_length=10)),
                ('age_group', models.CharField(blank=True, choices=[('adult', 'Adult'), ('child', 'Child'), ('senior', 'Senior')], max_length=20)),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='marketing', to='products.productvariant')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Stock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity_reserved', models.IntegerField(default=0)),
                ('stock_quantity', models.IntegerField(default=0)),
                ('minimum_stock_level', models.IntegerField(default=2)),
                ('max_stock_level', models.IntegerField(default=100)),
                ('average_cost', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('last_cost', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('last_updated', models.DateTimeField(auto_now=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.branch')),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='products.productvariant')),
            ],
        ),
        migrations.CreateModel(
            name='StockMovement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('movement_type', models.CharField(choices=[('in', 'In'), ('out', 'Out'), ('adjustment', 'Adjustment'), ('transfer_in', 'Transfer In'), ('transfer_out', 'Transfer Out'), ('return', 'Return'), ('damage', 'Damage'), ('reserve', 'Reserve'), ('release', 'Release')], max_length=20)),
                ('quantity', models.IntegerField()),
                ('unit_cost', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('reference_number', models.CharField(blank=True, max_length=100)),
                ('reference_type', models.CharField(choices=[('sale', 'Sale'), ('purchase', 'Purchase'), ('manual', 'Manual'), ('order', 'Order'), ('invoice', 'Invoice')], max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('movement_date', models.DateTimeField(auto_now_add=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='users.branch')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('variant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.productvariant')),
            ],
        ),
        migrations.AddIndex(
            model_name='category',
            index=models.Index(fields=['name', 'is_active'], name='products_ca_name_752bb1_idx'),
        ),
        migrations.AddIndex(
            model_name='productvariant',
            index=models.Index(fields=['unique_hash'], name='products_pr_unique__276ddd_idx'),
        ),
        migrations.AddIndex(
            model_name='productvariant',
            index=models.Index(fields=['product_id'], name='products_pr_product_cee51f_idx'),
        ),
        migrations.AddConstraint(
            model_name='productvariant',
            constraint=models.UniqueConstraint(fields=('unique_hash',), name='unique_variant_by_hash'),
        ),
        migrations.AddIndex(
            model_name='productimage',
            index=models.Index(fields=['order'], name='products_pr_order_2597cf_idx'),
        ),
        migrations.AddIndex(
            model_name='stock',
            index=models.Index(fields=['branch', 'variant'], name='products_st_branch__842839_idx'),
        ),
        migrations.AddIndex(
            model_name='stock',
            index=models.Index(fields=['stock_quantity'], name='products_st_stock_q_cddd39_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='stock',
            unique_together={('branch', 'variant')},
        ),
        migrations.AddIndex(
            model_name='stockmovement',
            index=models.Index(fields=['branch', 'variant', 'movement_date'], name='products_st_branch__56e069_idx'),
        ),
        migrations.AddIndex(
            model_name='stockmovement',
            index=models.Index(fields=['reference_number', 'reference_type'], name='products_st_referen_d414af_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='product',
            unique_together={('type', 'brand', 'model')},
        ),
    ]
